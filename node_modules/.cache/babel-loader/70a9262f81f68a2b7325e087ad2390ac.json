{"ast":null,"code":"var _jsxFileName = \"/media/siddiky/Siddiky Files/Web-Development/node/Module 3/burj-al-arab-node-project/src/components/Login/Login.js\";\nimport React, { useContext } from 'react';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './firebase.config';\nimport { UserContext } from '../../App';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst Login = () => {\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n\n  if (firebase.apps.length === 0) {\n    firebase.initializeApp(firebaseConfig);\n  }\n\n  const handleGoogleSignIn = () => {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider).then(function (result) {\n      const {\n        displayName,\n        email\n      } = result.user;\n      const signedInUser = {\n        name: displayName,\n        email\n      };\n      setLoggedInUser(signedInUser);\n      history.replace(from); // ...\n    }).catch(function (error) {\n      const errorMessage = error.message;\n      console.log(errorMessage);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"This is Login\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleGoogleSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Google Sign in\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["/media/siddiky/Siddiky Files/Web-Development/node/Module 3/burj-al-arab-node-project/src/components/Login/Login.js"],"names":["React","useContext","firebase","firebaseConfig","UserContext","useHistory","useLocation","Login","loggedInUser","setLoggedInUser","history","location","from","state","pathname","apps","length","initializeApp","handleGoogleSignIn","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","displayName","email","user","signedInUser","name","replace","catch","error","errorMessage","message","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAO,KAAKC,QAAZ,MAA0B,cAA1B;AACA,OAAO,eAAP;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,SAAQC,WAAR,QAA0B,WAA1B;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAChB,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCR,UAAU,CAACG,WAAD,CAAlD;AACA,QAAMM,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAMM,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAWD,QAAQ,CAACE,KAAT,IAAkB;AAAED,IAAAA,IAAI,EAAE;AAAEE,MAAAA,QAAQ,EAAE;AAAZ;AAAR,GAAnC;;AAEA,MAAGZ,QAAQ,CAACa,IAAT,CAAcC,MAAd,KAAyB,CAA5B,EAA8B;AAC1Bd,IAAAA,QAAQ,CAACe,aAAT,CAAuBd,cAAvB;AACH;;AAED,QAAMe,kBAAkB,GAAG,MAAM;AAC7B,QAAIC,QAAQ,GAAG,IAAIjB,QAAQ,CAACkB,IAAT,CAAcC,kBAAlB,EAAf;AACAnB,IAAAA,QAAQ,CAACkB,IAAT,GAAgBE,eAAhB,CAAgCH,QAAhC,EAA0CI,IAA1C,CAA+C,UAASC,MAAT,EAAiB;AAC5D,YAAM;AAACC,QAAAA,WAAD;AAAcC,QAAAA;AAAd,UAAuBF,MAAM,CAACG,IAApC;AACA,YAAMC,YAAY,GAAG;AAACC,QAAAA,IAAI,EAAEJ,WAAP;AAAoBC,QAAAA;AAApB,OAArB;AACAjB,MAAAA,eAAe,CAACmB,YAAD,CAAf;AACAlB,MAAAA,OAAO,CAACoB,OAAR,CAAgBlB,IAAhB,EAJ4D,CAK5D;AACD,KANH,EAMKmB,KANL,CAMW,UAASC,KAAT,EAAgB;AACvB,YAAMC,YAAY,GAAGD,KAAK,CAACE,OAA3B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AACD,KATH;AAUH,GAZD;;AAaA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAQ,IAAA,OAAO,EAAEf,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,CADJ;AAMH,CA7BD;;AA+BA,eAAeX,KAAf","sourcesContent":["import React, { useContext } from 'react';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './firebase.config';\nimport {UserContext} from '../../App';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nconst Login = () => {\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n    const history = useHistory();\n    const location = useLocation();\n    const { from } = location.state || { from: { pathname: \"/\" } };\n    \n    if(firebase.apps.length === 0){\n        firebase.initializeApp(firebaseConfig);\n    }\n    \n    const handleGoogleSignIn = () => {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        firebase.auth().signInWithPopup(provider).then(function(result) {\n            const {displayName, email} = result.user;\n            const signedInUser = {name: displayName, email} \n            setLoggedInUser(signedInUser);\n            history.replace(from);\n            // ...\n          }).catch(function(error) {\n            const errorMessage = error.message;\n            console.log(errorMessage);\n          });\n    }\n    return (\n        <div>\n            <h1>This is Login</h1>\n            <button onClick={handleGoogleSignIn}>Google Sign in</button>\n        </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}